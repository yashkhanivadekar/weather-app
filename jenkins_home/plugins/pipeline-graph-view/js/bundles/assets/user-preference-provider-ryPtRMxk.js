import{r as t,j as b}from"./PipelineGraphModel-D-hN9zFK.js";var x=(e=>(e.TOP="top",e.LEFT="left",e))(x||{}),H=(e=>(e.BOTH="both",e.STAGES_ONLY="stagesOnly",e.GRAPH_ONLY="graphOnly",e))(H||{});const V=t.createContext(void 0),o={stageViewPosition:"layout.stageViewPosition",mainViewVisibility:"layout.mainViewVisibility",treeViewWidth:"layout.treeViewWidth",stageViewWidth:"layout.stageViewWidth",stageViewHeight:"layout.stageViewHeight"},a=(e,r)=>{if(typeof window>"u")return r;try{const s=window.localStorage.getItem(e);if(s!==null)return typeof r=="number"?Number(s):s}catch(s){console.error(`Error loading localStorage key "${e}"`,s)}return r},O=700,T=({children:e})=>{const[r,s]=t.useState(typeof window<"u"?window.innerWidth:1e3),[w,l]=t.useState(a(o.stageViewPosition,"top")),[d,h]=t.useState(a(o.mainViewVisibility,"both")),[c,S]=t.useState(a(o.treeViewWidth,300)),[u,f]=t.useState(a(o.stageViewWidth,600)),[g,y]=t.useState(a(o.stageViewHeight,250)),n=r<O,m=n?"top":w,W=n?"graphOnly":d;t.useEffect(()=>{n||window.localStorage.setItem(o.stageViewPosition,w)},[w,n]),t.useEffect(()=>{n||window.localStorage.setItem(o.mainViewVisibility,d)},[d,n]),t.useEffect(()=>{window.localStorage.setItem(o.treeViewWidth,c.toString())},[c]),t.useEffect(()=>{window.localStorage.setItem(o.stageViewWidth,u.toString())},[u]),t.useEffect(()=>{window.localStorage.setItem(o.stageViewHeight,g.toString())},[g]),t.useEffect(()=>{const i=()=>s(window.innerWidth);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const P=i=>l(i),E=i=>h(i),p=i=>S(i),L=i=>f(i),v=i=>y(i);return b.jsx(V.Provider,{value:{stageViewPosition:m,mainViewVisibility:W,treeViewWidth:c,stageViewWidth:u,stageViewHeight:g,setStageViewPosition:P,setMainViewVisibility:E,setTreeViewWidth:p,setStageViewWidth:L,setStageViewHeight:v,isMobile:n},children:e})},M=()=>{const e=t.useContext(V);if(!e)throw new Error("useLayoutPreferences must be used within a LayoutPreferencesProvider");return e};export{T as L,H as M,x as S,M as u};
//# sourceMappingURL=user-preference-provider-ryPtRMxk.js.map
